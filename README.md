# Бот для кофейни на aiogram

Telegram-бот для приема заказов кофейни с использованием aiogram и PostgreSQL.

## Возможности

- Просмотр меню с категориями и товарами
- Добавление товаров в корзину
- Отображение выбранных товаров зелеными галочками
- Оформление заказов
- Хранение данных в PostgreSQL

## Требования

- Docker и Docker Compose
- Telegram Bot Token

## Установка и запуск

1. Клонируйте репозиторий или скопируйте файлы проекта

2. Создайте файл `.env` в корне проекта (этот файл не должен попадать в git!):
```
BOT_TOKEN=your_bot_token_here
DATABASE_URL=postgresql://cafe_user:cafe_password@db:5432/cafe_db
ADMIN_IDS=12345678,98765432
```

**Важно:** 
- Формат `DATABASE_URL` должен быть: `postgresql://user:password@host:port/database`
- Файл `.env` уже добавлен в `.gitignore` и не будет попадать в репозиторий
- Все значения должны быть указаны в `.env` файле, значений по умолчанию нет

3. Запустите проект через Docker Compose:
```bash
docker-compose up -d
```

4. Бот будет запущен и готов к работе!

## Структура проекта

- `bot.py` - основной файл бота с обработчиками
- `database.py` - работа с базой данных PostgreSQL
- `requirements.txt` - зависимости Python
- `Dockerfile` - образ для контейнера бота
- `docker-compose.yml` - конфигурация Docker Compose

## Использование

1. Запустите бота командой `/start` в Telegram
2. Выберите "Меню" для просмотра товаров
3. Добавляйте товары в корзину, нажимая на них
4. При выходе из меню вы увидите корзину с предложением оформить заказ
5. Оформите заказ, нажав "Оформить заказ"

## Остановка

Для остановки бота:
```bash
docker-compose down
```

Для остановки с удалением данных:
```bash
docker-compose down -v
```

